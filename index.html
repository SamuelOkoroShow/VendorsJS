<!DOCTYPE html>
<html ng-app="vendors">

<head>
    <title>Vendor App</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- FireBase -->
    <script src='https://cdn.firebase.com/js/client/2.2.1/firebase.js'></script>

    <!-- Angular + Anuglar Router -->
    <script src="js/angular.min.js"></script>
    <script src="js/angular-route.min.js"></script>

    <!-- Data Driven JavaScript -->
    <script src="js/d3.min.js"></script>


    <!-- bootstrap -->
    <link href="css/bootstrap.min.css" rel="stylesheet" media="screen">
    <!-- Main Styles -->
    <link href="css/style.css" rel="stylesheet">
</head>

<body ng-controller="mainCtrl">
    <!-- Nav Start -->
    <div id="navbar">
        <div class="nav-center">
            <a href="#/"><img src="img/logo.png" class="nav-logo" /></a>
            <ul class="nav navbar-nav navbar-right">
                <li><a href="#/campaigns">Campaigns</a></li>
                <li><a href="#">Collections</a></li>
                <li><a href="#">Inventory</a></li>
                <li><a href="#">Settings</a></li>
            </ul>
        </div>
    </div>
    <!-- Nav End -->

    <div class="container">

        <!-- <div ng-view></div> -->
        <svg id="graph" width="1000" height="500"></svg>
    </div>


    <script src="js/api.js"></script>
    <!-- D3js-->
    <script>
       
        myDataRef.on("child_added", function(snapshot, prevChildKey) {
            newPost = snapshot.val();
            console.log(newPost);
        });
        
        

        var visual = d3.select("#graph"),
            WIDTH = 550,
            HEIGHT = 400,
            MARGINS = {
                top: 20,
                right: 20,
                bottom: 20,
                left: 50
            },
            xScale = d3.scale.linear().range([MARGINS.left, WIDTH - MARGINS.right]).domain([1, 105]),
            yScale = d3.scale.linear().range([HEIGHT - MARGINS.top, MARGINS.bottom]).domain([1, 105]),
            xAxis = d3.svg.axis()
            .scale(xScale),

         yAxis = d3.svg.axis()
            .scale(yScale)
            .orient("left");


        visual.append("svg:g")
            .attr("transform", "translate(0," + (HEIGHT - MARGINS.bottom) + ")")
            .call(xAxis);

        visual.append("svg:g")
            .call(yAxis);

        
        
        visual.append("svg:g")
    .attr("transform", "translate(" + (MARGINS.left) + ",0)")
    .call(yAxis);
        
        var lineGen = d3.svg.line()
  .x(function(d) {
    return xScale(d.id);
  })
  .y(function(d) {
    return yScale(d.purchases);
  });
    setTimeout(function(){    
        visual.append('svg:path')
  .attr('d', d3.svg.line(sampleData))
  .attr('stroke', 'green')
  .attr('stroke-width', 2)
  .attr('fill', 'none');
    }, 1000);
    </script>

    <!-- Firebase JS-->

    <!-- UI in Angular -->
    <script src="js/ui.js"></script>
</body>

</html>
